# ctrans å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®æä¾›äº†å¤šç§å‘å¸ƒæ–¹å¼ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–æ„å»ºå’Œå‘å¸ƒæµç¨‹ã€‚

## ğŸš€ å‘å¸ƒæ–¹å¼

### 1. è‡ªåŠ¨å‘å¸ƒï¼ˆæ¨èï¼‰

**è§¦å‘æ¡ä»¶**ï¼šæ¨é€ä»¥ `v` å¼€å¤´çš„ tag

```bash
# åˆ›å»ºå¹¶æ¨é€ tag
git tag v1.0.0
git push origin v1.0.0
```

**æµç¨‹**ï¼š
1. GitHub Actions è‡ªåŠ¨æ£€æµ‹åˆ° tag
2. æ„å»ºæ‰€æœ‰å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶
3. ç”Ÿæˆæ ¡éªŒå’Œæ–‡ä»¶
4. åˆ›å»º GitHub Release
5. ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶åˆ° Release

### 2. æ‰‹åŠ¨å‘å¸ƒ

åœ¨ GitHub ç½‘é¡µä¸Šï¼š
1. è¿›å…¥ **Actions** æ ‡ç­¾é¡µ
2. é€‰æ‹© **Manual Release** workflow
3. ç‚¹å‡» **Run workflow**
4. è¾“å…¥ç‰ˆæœ¬å·ï¼ˆå¦‚ `v1.0.1`ï¼‰
5. é€‰æ‹©æ˜¯å¦ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬
6. ç‚¹å‡» **Run workflow** æŒ‰é’®

### 3. æœ¬åœ°æ„å»º

ä½¿ç”¨æä¾›çš„è„šæœ¬åœ¨æœ¬åœ°æ„å»ºï¼š

```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
chmod +x scripts/build-release.sh

# æ„å»ºæŒ‡å®šç‰ˆæœ¬
./scripts/build-release.sh v1.0.0
```

æ„å»ºå®Œæˆåï¼Œæ–‡ä»¶ä¼šä¿å­˜åœ¨ `releases/v1.0.0/` ç›®å½•ä¸­ã€‚

## ğŸ“¦ æ„å»ºäº§ç‰©

æ¯æ¬¡å‘å¸ƒä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

### æœåŠ¡å™¨ç«¯
- `ctrans-server-linux-amd64` - Linux x86-64
- `ctrans-server-linux-arm64` - Linux ARM64
- `ctrans-server-macos-amd64` - macOS x86-64
- `ctrans-server-macos-arm64` - macOS ARM64 (Apple Silicon)
- `ctrans-server-windows-amd64.exe` - Windows x86-64

### å®¢æˆ·ç«¯
- `ctrans-linux-amd64` - Linux x86-64
- `ctrans-linux-arm64` - Linux ARM64
- `ctrans-macos-amd64` - macOS x86-64
- `ctrans-macos-arm64` - macOS ARM64 (Apple Silicon)
- `ctrans-windows-amd64.exe` - Windows x86-64

### å…¶ä»–æ–‡ä»¶
- `checksums.txt` - SHA256 æ ¡éªŒå’Œæ–‡ä»¶
- `README.txt` - ä½¿ç”¨è¯´æ˜ï¼ˆæœ¬åœ°æ„å»ºæ—¶ç”Ÿæˆï¼‰

## ğŸ” å®‰å…¨éªŒè¯

æ‰€æœ‰å‘å¸ƒéƒ½åŒ…å« SHA256 æ ¡éªŒå’Œï¼Œç”¨äºéªŒè¯æ–‡ä»¶å®Œæ•´æ€§ï¼š

```bash
# ä¸‹è½½ checksums.txt åéªŒè¯
sha256sum -c checksums.txt
```

## ğŸ“‹ ç‰ˆæœ¬å‘½åè§„èŒƒ

- **æ­£å¼ç‰ˆæœ¬**ï¼š`v1.0.0`ã€`v1.2.3`
- **é¢„å‘å¸ƒç‰ˆæœ¬**ï¼š`v1.0.0-beta.1`ã€`v1.0.0-rc.1`
- **å¼€å‘ç‰ˆæœ¬**ï¼š`v1.0.0-dev.20231201`

## ğŸ› ï¸ å¼€å‘æµç¨‹

### å‡†å¤‡å‘å¸ƒ

1. **æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯**
   ```bash
   # æ›´æ–° README.md ä¸­çš„ç‰ˆæœ¬è¯´æ˜
   # æ›´æ–° CHANGELOG.mdï¼ˆå¦‚æœæœ‰ï¼‰
   ```

2. **æœ¬åœ°æµ‹è¯•**
   ```bash
   # æµ‹è¯•æœ¬åœ°æ„å»º
   ./scripts/build-release.sh v1.0.0-test
   
   # æµ‹è¯•äºŒè¿›åˆ¶æ–‡ä»¶
   ./releases/v1.0.0-test/ctrans-server-linux-amd64 --version
   ./releases/v1.0.0-test/ctrans-linux-amd64 --version
   ```

3. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "chore: prepare release v1.0.0"
   git push origin main
   ```

### å‘å¸ƒç‰ˆæœ¬

1. **åˆ›å»º tag**
   ```bash
   git tag -a v1.0.0 -m "Release v1.0.0"
   git push origin v1.0.0
   ```

2. **ç›‘æ§æ„å»º**
   - åœ¨ GitHub Actions ä¸­æŸ¥çœ‹æ„å»ºçŠ¶æ€
   - ç¡®è®¤æ‰€æœ‰å¹³å°æ„å»ºæˆåŠŸ

3. **éªŒè¯å‘å¸ƒ**
   - æ£€æŸ¥ GitHub Releases é¡µé¢
   - æµ‹è¯•ä¸‹è½½çš„äºŒè¿›åˆ¶æ–‡ä»¶
   - éªŒè¯æ ¡éªŒå’Œ

## ğŸ”§ æ•…éšœæ’é™¤

### æ„å»ºå¤±è´¥

å¦‚æœè‡ªåŠ¨æ„å»ºå¤±è´¥ï¼š

1. **æ£€æŸ¥æ—¥å¿—**
   - åœ¨ GitHub Actions ä¸­æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   - è¯†åˆ«å¤±è´¥çš„å…·ä½“æ­¥éª¤

2. **æœ¬åœ°å¤ç°**
   ```bash
   # ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬å·æœ¬åœ°æ„å»º
   ./scripts/build-release.sh v1.0.0
   ```

3. **ä¿®å¤é—®é¢˜**
   - ä¿®å¤ä»£ç é—®é¢˜
   - é‡æ–°æäº¤å¹¶æ¨é€
   - åˆ é™¤æ—§ tag å¹¶é‡æ–°åˆ›å»º

   ```bash
   # åˆ é™¤æœ¬åœ°å’Œè¿œç¨‹ tag
   git tag -d v1.0.0
   git push origin :refs/tags/v1.0.0
   
   # é‡æ–°åˆ›å»º tag
   git tag -a v1.0.0 -m "Release v1.0.0"
   git push origin v1.0.0
   ```

### æ‰‹åŠ¨ä¿®å¤å‘å¸ƒ

å¦‚æœéœ€è¦æ‰‹åŠ¨ä¿®å¤å‘å¸ƒï¼š

1. **æœ¬åœ°æ„å»º**
   ```bash
   ./scripts/build-release.sh v1.0.0
   ```

2. **æ‰‹åŠ¨ä¸Šä¼ **
   - åœ¨ GitHub Releases é¡µé¢ç¼–è¾‘å‘å¸ƒ
   - æ‰‹åŠ¨ä¸Šä¼ ä¿®å¤çš„æ–‡ä»¶
   - æ›´æ–°å‘å¸ƒè¯´æ˜

## ğŸŒŸ æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬å·é€’å¢**ï¼šç¡®ä¿æ¯æ¬¡å‘å¸ƒéƒ½ä½¿ç”¨é€’å¢çš„ç‰ˆæœ¬å·
2. **æµ‹è¯•éªŒè¯**ï¼šå‘å¸ƒå‰åœ¨æœ¬åœ°å……åˆ†æµ‹è¯•
3. **æ›´æ–°æ–‡æ¡£**ï¼šåŠæ—¶æ›´æ–° README å’Œç›¸å…³æ–‡æ¡£
4. **å¤‡ä»½é‡è¦ç‰ˆæœ¬**ï¼šä¿ç•™é‡è¦ç‰ˆæœ¬çš„æºç å¤‡ä»½
5. **å®‰å…¨æ£€æŸ¥**ï¼šå®šæœŸæ£€æŸ¥ä¾èµ–é¡¹å®‰å…¨æ€§

## ğŸ“ è”ç³»æ”¯æŒ

å¦‚æœåœ¨å‘å¸ƒè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥æ­¤æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹ GitHub Issues ä¸­çš„ç±»ä¼¼é—®é¢˜
3. åˆ›å»ºæ–°çš„ Issue æè¿°é—®é¢˜ 